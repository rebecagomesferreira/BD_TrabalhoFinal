<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Menu</title>
    <style>
        .menu-section {
            margin-top: 15px;
        }

        .hidden {
            display: none;
        }

        button {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            border: none;
            border-radius: 8px;
            background: #2f6b2f;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background: #245524;
        }

        .logout {
            background: #b83232;
        }

        .logout:hover {
            background: #8b2424;
        }

        h2 {
            color: #2f6b2f;
            margin-bottom: 20px;
            font-weight: 700;
        }
    </style>
</head>
<body>
<div class="container">
    <h1 id="titulo">Bem-vindo</h1>
    <h2 id="cargo"></h2>

    <!-- ADMINISTRADOR -->
    <div id="menuAdm" class="menu-section hidden">
        <button onclick="abrirPagina('usuarios.html')">ğŸ‘‘ Gerenciar UsuÃ¡rios</button>
        <button onclick="abrirPagina('funcionarios.html')">ğŸ§° Gerenciar FuncionÃ¡rios</button>
        <button onclick="abrirPagina('fornecedores.html')">ğŸ¢ Gerenciar Fornecedores</button>
        <button onclick="abrirPagina('materiais.html')">ğŸ§¾ Gerenciar Materiais</button>
        <button onclick="abrirPagina('relatorios.html')">ğŸ“Š RelatÃ³rios Gerais</button>
        <button onclick="abrirPagina('config.html')">âš™ ConfiguraÃ§Ãµes do Sistema</button>
    </div>

    <!-- GERENTE -->
    <div id="menuGer" class="menu-section hidden">
        <button onclick="abrirPagina('materiais.html')">ğŸ§¾ Gerenciar Materiais</button>
        <button onclick="abrirPagina('fornecedores.html')">ğŸ“¦ Ver Fornecedores</button>
        <button onclick="abrirPagina('relatorios.html')">ğŸ“Š RelatÃ³rios Gerais</button>
        <button onclick="abrirPagina('funcionarios.html')">ğŸ‘¥ Acompanhar FuncionÃ¡rios</button>
    </div>

    <!-- FUNCIONÃRIO -->
    <div id="menuOpe" class="menu-section hidden">
        <button onclick="abrirPagina('entrada.html')">ğŸ“¦ Registrar Entrada de Materiais</button>
        <button onclick="abrirPagina('saida.html')">ğŸšš Registrar SaÃ­da / Reciclagem</button>
        <button onclick="abrirPagina('fornecedores.html')">ğŸ“‹ Consultar Fornecedores</button>
        <button onclick="abrirPagina('relatorios.html')">ğŸ“ˆ Ver RelatÃ³rios Simples</button>
    </div>

    <!-- CLIENTE -->
    <div id="menuVis" class="menu-section hidden">
        <button onclick="abrirPagina('materiais.html')">ğŸ“„ Ver Materiais Reciclados</button>
        <button onclick="abrirPagina('fornecedores.html')">ğŸ§¾ Ver Fornecedores</button>
        <button onclick="abrirPagina('relatorios.html')">ğŸ“Š Ver RelatÃ³rio Pessoal</button>
    </div>

    <button class="logout" onclick="logout()">Sair</button>
</div>

<script>
    const grupo = localStorage.getItem("grupo");
    const nomeUsuario = localStorage.getItem("usuario");

    const titulo = document.getElementById("titulo");
    const cargo = document.getElementById("cargo");

    titulo.textContent = `Bem-vindo, ${nomeUsuario || "UsuÃ¡rio"}`;

    // Mostra o menu correto de acordo com o grupo salvo
    switch (grupo) {
        case "ADM":
        case "Administrador":
            cargo.textContent = "ğŸ‘‘ Administrador";
            document.getElementById("menuAdm").classList.remove("hidden");
            break;

        case "GER":
        case "Gerente":
            cargo.textContent = "ğŸ’¼ Gerente";
            document.getElementById("menuGer").classList.remove("hidden");
            break;

        case "OPE":
        case "Operador":
        case "Funcionario":
        case "FuncionÃ¡rio":
            cargo.textContent = "ğŸ§° FuncionÃ¡rio";
            document.getElementById("menuOpe").classList.remove("hidden");
            break;

        case "VIS":
        case "Visualizador":
        case "Cliente":
            cargo.textContent = "ğŸ’¼ Cliente";
            document.getElementById("menuVis").classList.remove("hidden");
            break;

        default:
            cargo.textContent = "Grupo desconhecido";
            alert("Grupo de usuÃ¡rio desconhecido. FaÃ§a login novamente.");
            localStorage.clear();
            location.href = "index.html";
            break;
    }

    function abrirPagina(pagina) {
        window.location.href = pagina;
    }

    function logout() {
        localStorage.clear();
        location.href = "index.html";
    }
</script>
</body>
</html>

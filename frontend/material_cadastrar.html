<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
  <title>Cadastrar Material</title>
</head>
<body>
  <div class="container">
    <h1>Cadastrar Material</h1>
    Tipo: <input id="tipo" placeholder="Ex: Metal, Papel, Plástico"><br>
    Descrição: <input id="descricao" placeholder="Ex: Latinha de alumínio"><br>
    Preço por Kg: <input id="precoKg" type="number" step="0.01" placeholder="Ex: 5.00"><br>

    <button onclick="salvar()">Salvar</button>
    <button onclick="location.href='material_menu.html'">Voltar</button>

    <script>
      async function salvar() {
        let body = {
          tipo: tipo.value,
          descricao: descricao.value,
          precoKg: parseFloat(precoKg.value)
        };

        let r = await fetch("http://localhost:8080/api/materiais", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body)
        });

        if (r.ok) alert("Material salvo com sucesso!");
        else alert("Erro ao salvar material.");
      }
    </script>
  </div>
</body>
</html>

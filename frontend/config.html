<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>ConfiguraÃ§Ãµes do Sistema</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .container{max-width:700px}
        .info-box {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2196F3;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>âš™ ConfiguraÃ§Ãµes do Sistema</h1>

    <div class="info-box">
        <strong>ðŸ’¡ ConfiguraÃ§Ãµes Locais</strong><br>
        Ajuste as preferÃªncias do sistema. As configuraÃ§Ãµes sÃ£o salvas no seu navegador.
    </div>

    <label><strong>Nome da Empresa</strong></label>
    <input id="empresa" placeholder="Digite o nome da empresa" style="width: 100%; padding: 10px; margin: 5px 0 15px 0;">

    <label><strong>Modo de OperaÃ§Ã£o</strong></label>
    <select id="manut" style="width: 100%; padding: 10px; margin: 5px 0 15px 0;">
        <option value="false">ðŸŸ¢ Normal</option>
        <option value="true">ðŸŸ¡ Modo ManutenÃ§Ã£o</option>
    </select>

    <div style="margin-top:20px; display: flex; gap: 10px;">
        <button onclick="salvarLocal()" style="background: #2f6b2f; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer;">
            ðŸ’¾ Salvar ConfiguraÃ§Ãµes
        </button>
        <button onclick="baixar()" style="background: #2196F3; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer;">
            ðŸ“¤ Exportar ConfiguraÃ§Ãµes
        </button>
    </div>

    <div id="msg" style="margin-top:15px; padding: 10px; border-radius: 6px;"></div>

    <button onclick="voltar()" style="margin-top: 30px; padding: 10px 20px;">â¬… Voltar ao Menu</button>
</div>

<script>
    function carregar() {
        const cfg = localStorage.getItem('app_config');
        if (cfg) {
            const config = JSON.parse(cfg);
            document.getElementById('empresa').value = config.empresa || '';
            document.getElementById('manut').value = config.manut || 'false';
            mostrarMensagem('âœ… ConfiguraÃ§Ãµes carregadas!', 'success');
        }
    }

    function salvarLocal(){
        const cfg = {
            empresa: document.getElementById('empresa').value,
            manut: document.getElementById('manut').value
        };
        localStorage.setItem('app_config', JSON.stringify(cfg));
        mostrarMensagem('âœ… ConfiguraÃ§Ãµes salvas com sucesso!', 'success');
    }

    function baixar(){
        const cfg = localStorage.getItem('app_config') || '{}';
        const blob = new Blob([cfg], {type:'application/json'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'configuraÃ§Ãµes-sistema.json';
        a.click();
        URL.revokeObjectURL(url);
        mostrarMensagem('ðŸ“¤ ConfiguraÃ§Ãµes exportadas!', 'info');
    }

    function mostrarMensagem(texto, tipo) {
        const msg = document.getElementById('msg');
        msg.textContent = texto;
        msg.style.background = tipo === 'success' ? '#e8f5e8' : '#e8f4fd';
        msg.style.color = tipo === 'success' ? '#2f6b2f' : '#2196F3';
        msg.style.border = tipo === 'success' ? '1px solid #2f6b2f' : '1px solid #2196F3';
    }

    function voltar(){
        location.href = 'menu.html';
    }

    // Carrega automaticamente
    carregar();
</script>
</body>
</html>